{% extends "base.html" %}
{% block content %}


    <main id="mainMenu">
        <div class="main-wrapper happy-margin">
            <div class="tab-titles-wrapper top-tail-margin">
                <div class="tabs flex">
                    <div class="flex article-wrapper">
                        <article class="tab-title happy-padding white selected">
                            <h4>Device Manager</h4>
                        </article>
                        <article class="tab-title happy-padding gray-background navy">
                            <h4>Interface Settings</h4>
                        </article>
                    </div>

                    <div class="reload-icon inline-block">
                        <img alt="Reload Icon" src="/scute/images/reload-icon.png">
                    </div>
                </div>
            </div>

            <section class="main-table-wrapper" toolversion>
                <div class="table-nav flex top-tail-margin top-tail-padding">
                    <div class="table-nav-left">
                        <span class="usb-icon inline-block">
                            <img alt="USB icon" src="/scute/images/usb-icon.png">
                        </span>
                        <div class="inline-block navy table-header">
                            <h2>Tag Manager</h2>
                        </div>
                    </div>
                    <div class="table-nav-right gray">
                        <div class="last-loaded key inline-block">
                            <p class="inline-block light-gray">Last loaded:</p>
                        </div>
                        <div class="date value inline-block">
                            <p class="inline-block">2X/1X/XX19 - 1X:4X</p>
                        </div>
                    </div>
                </div>

                <section class="main-table">
                    <table>
                        <tr>
                            <td>
                                Tag Name:
                            </td>
                            {% for device in reportValues %}
                                <td class="deviceHeader">
                                    {{device}}
                                </td>
                            {% endfor %}
                        </tr>

                        {% for key,category in reportSchema.items() | sort(attribute='1.order') %}
                            {% for fieldKey,fieldSchema in category.fields.items() | sort(attribute='1.order') %}
                                <tr>
                                    <td>{{fieldSchema.label}}</td>
                                    {% for deviceKey,deviceValues in reportValues.items() %}
                                        <td>{{deviceValues[fieldKey]}}</td>
                                    {% endfor %}
                                </tr>
                            {% endfor %}
                        {% endfor %}
                        <tr>
                            <td>XXX</td>
                            {% for deviceKey,deviceValues in reportValues.items() %}
                                <td>
                                    <a href="/config/{{deviceKey}}">Config</a>
                                </td>
                            {% endfor %}
                        </tr>
                    </table>

                </section>

                <section style="visibility:hidden;" class="buttons actions">

                    <section class="banner-block happy-margin">
                        <div class="banner selected-devices flex">
                            <h3><span class="count">2</span> selected</h3>
                            <a onclick="clearDevices()" class="quit-button icon-wrapper">
                                <img alt="X Icon" src="/scute/images/x-icon.png">
                            </a>
                        </div>
                        <br/>
                        <div class="buttons-wrapper flex secondary-buttons">
                        {% for actionKey,actionSchema in actions.items() %}
                            <button class="secondary navy" type="button">
                                {{actionSchema.label}}
                            </button>
                        {% endfor %}
                        </div>
                    </section>
                </section>

            </section>

        </div>
    </main>
{% endblock %}
